var W=Object.defineProperty,K=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var O=(t,n,r)=>n in t?W(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,h=(t,n)=>{for(var r in n||(n={}))I.call(n,r)&&O(t,r,n[r]);if($)for(var r of $(n))F.call(n,r)&&O(t,r,n[r]);return t},p=(t,n)=>K(t,U(n));var C=(t,n)=>{var r={};for(var l in t)I.call(t,l)&&n.indexOf(l)<0&&(r[l]=t[l]);if(t!=null&&$)for(var l of $(t))n.indexOf(l)<0&&F.call(t,l)&&(r[l]=t[l]);return r};import{r as v,j as B,R as D,a as z}from"./vendor.a6004823.js";const J=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}};J();const Y="_modal_qsrk1_1",Q="_backdrop_qsrk1_6",X="_mounted_qsrk1_18",Z="_children__outer_qsrk1_21",ee="_children__container_qsrk1_28";var S={modal:Y,backdrop:Q,mounted:X,children__outer:Z,children__container:ee};const j=t=>{if(typeof t=="string")return document.querySelector(t);if(typeof t=="object"){if(t instanceof HTMLElement)return t;if(t.current)return t.current}return null},te=({focusFirst:t,onClose:n,focusAfterClosed:r,autoFocus:l,overlayModal:i=!0})=>{let a=document.getElementById("modal-root");a||(a=document.createElement("div"),a.setAttribute("id","modal-root"),document.body.appendChild(a));const o=v.exports.useRef(null);let s=t?j(t):null,c=r?j(r):null;return v.exports.useEffect(()=>{function m(g){!o.current||o.current.contains(g.target)||(n(),c&&c.focus())}function f(g){g.key==="Escape"&&(n(),c&&c.focus())}return document.body.addEventListener("keyup",f),document.body.addEventListener("click",m,{capture:!0}),()=>{document.body.removeEventListener("click",m,{capture:!0}),document.body.removeEventListener("keyup",f)}},[n,c]),v.exports.useEffect(()=>{const m=u=>typeof u.focus=="function";let f=!1;const g=u=>{if(!m(u))return!1;f=!0;try{u.focus()}catch(_){console.error(_)}return f=!1,document.activeElement===u},y=u=>{for(var _=0;_<u.childNodes.length;_++){var x=u.childNodes[_];if(g(x)||y(x))return!0}return!1},w=u=>{for(var _=u.childNodes.length-1;_>=0;_--){var x=u.childNodes[_];if(g(x)||w(x))return!0}return!1};s?s.focus():l&&o.current&&y(o.current);let b;const k=u=>{if(!f){if(!o.current){console.error("dialog not found");return}o.current.contains(u.target)?b=u.target:(y(o.current),b===document.activeElement&&w(o.current),b=document.activeElement)}};return i&&document.body.classList.add("has-dialog"),document.addEventListener("focus",k,!0),()=>{i&&document.body.classList.remove("has-dialog"),document.removeEventListener("focus",k,!0),c&&c.focus()}},[s,c,l,i]),{ref:o,modalRoot:a}},e=B.exports.jsx,d=B.exports.jsxs,ne=c=>{var m=c,{focusFirst:t,focusAfterClosed:n,onClose:r,autoFocus:l,children:i,maxWidth:a,classes:o}=m,s=C(m,["focusFirst","focusAfterClosed","onClose","autoFocus","children","maxWidth","classes"]);const[f,g]=v.exports.useState(!1);v.exports.useEffect(()=>(g(!0),()=>{g(!1)}),[f]);const{ref:y,modalRoot:w}=te({autoFocus:l,focusFirst:t,focusAfterClosed:n,onClose:r,overlayModal:!0}),b=e("div",{role:"presentation",className:`${S.modal} ${o?o==null?void 0:o.root:""}`,children:d("div",{className:`${S.backdrop} ${f?S.mounted:""} ${o?o==null?void 0:o.backDrop:""}`,children:[e("div",{tabIndex:0}),e("div",{role:"presentation",tabIndex:-1,className:`${S.children__outer} ${(o==null?void 0:o.childrenOuter)?o.childrenOuter:""}`,children:e("div",p(h({className:`${S.children__container} ${(o==null?void 0:o.childrenContainer)?o.childrenContainer:""}`,ref:y,role:"dialog",style:a?{maxWidth:a}:{}},s),{children:i}))}),e("div",{tabIndex:0})]})});return D.createPortal(b,w)},re=["1","5","10","15","20"],oe={cells:[],genCount:0,isPlaying:!1,generationsPerSecond:10,autoPlay:!0,stepNext:!1},ie=26,le=40,ae=1200,se=1200,ce=300,de="_button_usnsu_1";var ue={button:de};const P=r=>{var l=r,{className:t}=l,n=C(l,["className"]);return e("button",p(h({},n),{className:`${ue.button} ${t||""}`}))};function he(t){return e("svg",p(h({width:"1em",height:"1em",viewBox:"0 0 24 24"},t),{"aria-hidden":"true",children:e("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2m-2 14.5l6-4.5l-6-4.5v9z",fill:"currentColor"})}))}function pe(t){return e("svg",p(h({width:"1em",height:"1em",viewBox:"0 0 24 24"},t),{"aria-hidden":"true",children:e("path",{d:"M9 16h2V8H9v8zm3-14C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm1-4h2V8h-2v8z",fill:"currentColor"})}))}function me(t){return e("svg",p(h({width:"1em",height:"1em",viewBox:"0 0 24 24"},t),{"aria-hidden":"true",children:e("path",{d:"M5 5v14h3V5m2 0v14l11-7",fill:"currentColor"})}))}function fe(t){return e("svg",p(h({width:"1em",height:"1em",viewBox:"0 0 32 32"},t),{"aria-hidden":"true",children:e("path",{d:"M18 28A12 12 0 1 0 6 16v6.2l-3.6-3.6L1 20l6 6l6-6l-1.4-1.4L8 22.2V16a10 10 0 1 1 10 10z",fill:"currentColor"})}))}function ge(t){return e("svg",p(h({width:"1em",height:"1em",viewBox:"0 0 256 256"},t),{"aria-hidden":"true",children:e("path",{d:"M80 123.996A4.002 4.002 0 0 1 75.996 128H52.004A4.002 4.002 0 0 1 48 123.996v-23.992A4.002 4.002 0 0 1 52.004 96h23.992A4.002 4.002 0 0 1 80 100.004v23.992zm32 80a4.002 4.002 0 0 1-4.004 4.004H84.004A4.002 4.002 0 0 1 80 203.996v-23.992A4.002 4.002 0 0 1 84.004 176h23.992a4.002 4.002 0 0 1 4.004 4.004v23.992zm96-64a4.002 4.002 0 0 1-4.004 4.004h-23.992a4.002 4.002 0 0 1-4.004-4.004v-23.992a4.002 4.002 0 0 1 4.004-4.004h23.992a4.002 4.002 0 0 1 4.004 4.004v23.992zm-96 16a4.002 4.002 0 0 0 4.004 4.004h23.992a4.002 4.002 0 0 0 4.004-4.004v-23.992a4.002 4.002 0 0 0-4.004-4.004h-23.992a4.002 4.002 0 0 0-4.004 4.004v23.992zm32-80A4.002 4.002 0 0 0 148.004 80h23.992A4.002 4.002 0 0 0 176 75.996V52.004A4.002 4.002 0 0 0 171.996 48h-23.992A4.002 4.002 0 0 0 144 52.004v23.992z",fillRule:"evenodd",fill:"currentColor"})}))}const q=t=>t.trim().toLowerCase().split(/\s+/).join("-");var E={"c-switch":"_c-switch_168np_9","c-switch__wrapper":"_c-switch__wrapper_168np_13","c-switch__toggler":"_c-switch__toggler_168np_38","c-switch__background":"_c-switch__background_168np_45"};const _e=a=>{var o=a,{name:t,label:n,options:r,value:l}=o,i=C(o,["name","label","options","value"]);v.exports.useEffect(()=>{if(!r.includes(l)){console.error(`current switch value: ${l} not present in given values.`);return}},[l]);const s=q(t);return d("fieldset",{"aria-label":t,role:"radiogroup",children:[n&&e("legend",{children:n}),d("div",{className:E["c-switch"],children:[e("label",{htmlFor:`${s}__option1`,children:r[0]}),d("span",{className:E["c-switch__wrapper"],children:[e("input",h({type:"radio",name:t||"PleaseChooseName",id:`${s}__option1`,checked:l===r[0]},i)),e("input",h({type:"radio",name:t||"PleaseChooseName",id:`${s}__option2`,checked:l===r[1]},i)),e("span",{"aria-hidden":"true",className:E["c-switch__background"]}),e("span",{"aria-hidden":"true",className:E["c-switch__toggler"]})]}),e("label",{htmlFor:`${s}__option2`,children:r[1]})]})]})},ve="_form__field_cxalp_1";var H={form__field:ve,"field-select":"_field-select_cxalp_11"};const be=z.forwardRef(function(n,r){const s=n,{label:l,options:i}=s,a=C(s,["label","options"]),o=q(l);return d("div",{className:H.form__field,children:[e("label",{htmlFor:o,children:l}),d("div",{className:H["field-select"],children:[e("select",p(h({id:o},a),{ref:r,children:i.map(c=>e("option",{value:c,children:c},c.toString()))})),e("fieldset",{"aria-hidden":"true"})]})]})}),ye="_controls_19w43_1",we="_button_19w43_15",Ne="_generations_19w43_21";var A={controls:ye,button:we,generations:Ne};const ke=({genCount:t,isPlaying:n,isAuto:r,generationsPerSecond:l,dispatch:i})=>{const[a,o]=v.exports.useState(!0),s=w=>{i({type:"gps-change",payload:Number(w.target.value)})},c=w=>{const b=!a;o(b),i({type:"auto-option-change",payload:b})},m=()=>{i({type:"step-next"})},f=()=>{i({type:"reset"})},g=()=>{i({type:"stop-and-set-random"})},y=()=>{i({type:"toggle-play"})};return d("div",{className:A.controls,children:[d("div",{title:"generation cycle count",children:[e("span",{children:"Generations:"}),e("span",{className:A.generations,id:"gen-count",children:t})]}),r?e(P,{onClick:y,className:A.button,title:"toggle play",children:n?e(pe,{}):e(he,{})}):e(P,{className:"button",title:"step forward once",onClick:m,"aria-label":"step forward once",children:e(me,{})}),e(P,{id:"reset",className:A.button,title:"kill all cells and reset generations to zero","aria-label":"kill all cells and reset generations to zero",onClick:f,children:e(fe,{})}),e(P,{id:"random",className:A.button,title:"randomly generate cells","aria-label":"randomly generate cells",onClick:g,children:e(ge,{})}),e(be,{label:"gps",options:re,onChange:s,value:l,"aria-label":"control generations per second"}),e(_e,{name:"auto or manual",title:"auto generate cells at selected gps",options:["auto","manual"],onChange:c,value:a?"auto":"manual"})]})},R=()=>typeof window!="undefined"&&window.innerWidth>=500?ie:le,xe=(t,n,r,l,i)=>{let a=0,o=n===0?l-1:n-1,s=n===l-1?0:n+1,c=r===0?i-1:r-1,m=r===i-1?0:r+1;return a+=Number(t[o][c]),a+=Number(t[o][r]),a+=Number(t[o][m]),a+=Number(t[n][c]),a+=Number(t[n][m]),a+=Number(t[s][c]),a+=Number(t[s][r]),a+=Number(t[s][m]),a},V=t=>t.every(n=>n.every(r=>!r)),G=(t=!0)=>{const n=Math.floor(Math.min(window.innerHeight-250,ae)/R()),r=Math.floor(Math.min(window.innerWidth,se)/R());let l=new Array(n).fill(null).map(()=>new Array(r).fill(!1));if(t){for(let i=0;i<n;i++)for(let a=0;a<r;a++)l[i][a]=!(Math.random()<.7);return l}else return l},Ce=t=>{const n=G(),r=t.length,l=t[0].length;for(let i=0;i<r;i++)for(let a=0;a<l;a++){const o=t[i][a];let s=xe(t,i,a,r,l);o===!0&&s<2?n[i][a]=!1:o===!0&&s<=3?n[i][a]=!0:o===!0&&s>3?n[i][a]=!1:o===!1&&s===3?n[i][a]=!0:n[i][a]=o}return n};function Se(t,n=ce){let r;return(...l)=>{clearTimeout(r),r=setTimeout(()=>{t(...l)},n)}}const Ae="_cell_1gvvo_14",Le="_alive_1gvvo_25";var L={"game-board":"_game-board_1gvvo_1","game-board__inner":"_game-board__inner_1gvvo_6","game-board__row":"_game-board__row_1gvvo_9",cell:Ae,alive:Le,"cells-group":"_cells-group_1gvvo_31"};const $e=z.memo(({row:t,col:n,isAlive:r,handleClick:l})=>e("button",{tabIndex:-1,onClick:()=>l(t,n),className:`${L.cell} ${r?L.alive:""}`,style:{height:R(),width:R()},type:"button"})),Pe=(t,n)=>{switch(n.type){case"init":return p(h({},t),{cells:G(n.payload.random),genCount:0});case"toggle-cell":{const r=t.cells,l=!r[n.payload.row][n.payload.col],i=[...r.slice(0,n.payload.row),[...r[n.payload.row].slice(0,n.payload.col),l,...r[n.payload.row].slice(n.payload.col+1)],...r.slice(n.payload.row+1)];return p(h({},t),{cells:i})}case"generate-next-frame":return p(h({},t),{cells:Ce(t.cells),genCount:t.genCount+1});case"set-play":return p(h({},t),{isPlaying:n.payload});case"toggle-play":return p(h({},t),{isPlaying:!t.isPlaying});case"auto-option-change":return p(h({},t),{autoPlay:n.payload,isPlaying:!1});case"gps-change":return p(h({},t),{generationsPerSecond:n.payload});case"step-next":return p(h({},t),{stepNext:!t.stepNext});case"reset":return p(h({},t),{isPlaying:!1,cells:G(!1),genCount:0});case"stop-and-set-random":return p(h({},t),{isPlaying:!1,cells:G(!0)});default:return t}},Ee=()=>{const[{cells:t,genCount:n,isPlaying:r,generationsPerSecond:l,autoPlay:i,stepNext:a},o]=v.exports.useReducer(Pe,oe),s=v.exports.useRef();let c,m,f,g;const y=()=>{s.current=requestAnimationFrame(y),c=Date.now(),f=c-m,f>g&&(m=c-f%g,o({type:"generate-next-frame"}))},w=v.exports.useCallback((u,_)=>{o({type:"toggle-cell",payload:{row:u,col:_}})},[]),b=()=>{if(V(t)){k(),o({type:"set-play",payload:!1}),alert('There is no life in current universe! click on "random" button (dice like dotted button) or click on the cells to generate random life!!');return}g=1e3/l,m=Date.now(),y()},k=()=>{s.current&&(cancelAnimationFrame(s.current),s.current=void 0)};return v.exports.useEffect(()=>{r&&i?b():k()},[r]),v.exports.useEffect(()=>{if(!i){if(V(t)){alert('There is no life in current universe! click on "random" button (dice like dotted button) or click on the cells to generate random life!!');return}o({type:"generate-next-frame"})}},[a]),v.exports.useEffect(()=>{r&&(k(),b())},[l]),v.exports.useEffect(()=>{const u=()=>{r&&k(),o({type:"init",payload:{random:!0}})};return window.addEventListener("resize",Se(u,200)),o({type:"init",payload:{random:!0}}),()=>{window.addEventListener("resize",u)}},[]),d("div",{className:L["game-board"],children:[e("div",{className:L["game-board__inner"],children:t.map((u,_)=>e("div",{className:L["game-board__row"],children:u.map((x,M)=>e($e,{row:_,col:M,isAlive:x,handleClick:w},`${_}-${M}`))},_))}),e(ke,{dispatch:o,generationsPerSecond:l,isAuto:i,isPlaying:r,genCount:n})]})},Re="_help_57uf7_1",Ge="_img__wrapper_57uf7_14";var N={help:Re,img__wrapper:Ge};const ze=()=>d("section",{className:N.help,children:[e("h2",{children:"Contents"}),d("ol",{children:[e("li",{children:e("a",{href:"#about",children:"About"})}),e("li",{children:e("a",{href:"#controls",children:"Controls"})})]}),e("br",{}),e("h3",{id:"about",children:"About"}),e("p",{id:"",children:'The Game of Life, also known simply as Life, is a cellular automaton devised by the British mathematician John Horton Conway in 1970.It is a zero-player game, meaning that its evolution is determined by its initial state, requiring no further input. One interacts with the Game of Life by creating an initial configuration(by setting initial live cells i.e indicated by "skyblue" in app) and observing how it evolves.'}),e("br",{}),e("p",{children:"The universe of the Game of Life is an infinite, two-dimensional orthogonal grid of square cells (for now small board that can fit in your mobile/Desktop, try Desktop for large universe), each of which is in one of two possible states, live or dead, (or populated and unpopulated, respectively). Every cell interacts with its eight neighbours, which are the cells that are horizontally, vertically, or diagonally adjacent. At each step in time, the following transitions occur:"}),d("ol",{children:[d("li",{children:["Any live cell ",e("em",{children:"with fewer than two"})," live neighbours dies, as if by ",e("strong",{children:"under-population"}),"."]}),d("li",{children:["Any live cell ",e("em",{children:"with two or three"})," live neighbours lives on to the next generation."]}),d("li",{children:["Any live cell ",e("em",{children:"with more than three"})," live neighbours dies, as if by ",e("strong",{children:"over-population"}),"."]}),d("li",{children:["Any dead cell ",e("em",{children:"with exactly three"})," live neighbours becomes a live cell, as if by ",e("strong",{children:"reproduction"}),"."]})]}),"Here are some examples of initial"," ",e("a",{href:"https://en.wikipedia.org/wiki/Conway's_Game_of_Life#Examples_of_patterns",target:"_blank",children:"patterns"}),".",e("br",{}),e("br",{}),e("h3",{id:"controls",children:"Controls"}),e("strong",{children:'Live cells (aka "Life"):'})," cells with ",e("i",{children:"blue-ish"})," color",e("br",{}),e("strong",{children:"Dead cells:"})," cells with ",e("i",{children:"no/white"})," color",e("br",{}),e("strong",{children:"Interaction:"})," You can make any of the cells on board either alive or dead by clicking on it.",e("h4",{children:"Auto or Manual Generation"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_auto.png",alt:"image of auto or manual generation control"})}),"Two Options:",d("ol",{children:[d("li",{children:[e("strong",{children:"Auto"})," (default): will run the steps/generations automatically at a speed of"," ",e("a",{href:"#gps_1",children:"Generations per second"}),"."]}),d("li",{children:[e("strong",{children:"Manual"}),": if selected, play button will change to"," ",e("a",{href:"#step",children:"Step"})," button, used to generate next single step/generation."]})]}),e("br",{}),e("h4",{id:"gps_1",children:"Generations per Second (aka GPS)"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_gps.png",alt:"A Select dropdown menu for GPS"})}),e("p",{children:"Provides an interface to select how fast generations/steps should happen."}),e("br",{}),e("h4",{children:"Generations Indicator"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_ge.png",alt:"Generations indicator"})}),e("p",{children:"This is to indicate number of generations passed."}),e("br",{}),e("h4",{children:"Play"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_play.png",alt:"image of play button"})}),d("p",{children:["Run the game at specified ",e("a",{href:"#gps_1",children:"Generations per second"}),"."]}),e("br",{}),e("h4",{children:"Pause"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_pause.png",alt:"image of pause button"})}),e("p",{children:"Pause the game."}),e("br",{}),e("h4",{id:"step",children:"Step"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_step.png",alt:"image of step button"})}),e("p",{children:"Generates next single step/generation of life."}),e("br",{}),e("h4",{children:"Reset"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_reset.png",alt:"image of reset button"})}),e("p",{children:"Reset the game with no life on it."}),e("br",{}),e("h4",{children:"Random Generation of Life"}),e("div",{className:N.img__wrapper,children:e("img",{src:"./controls_random.png",alt:"image of random generation button"})}),e("p",{children:"Randomly generate Life on board."}),e("br",{}),e("br",{}),e("br",{})]});function Me(){const[t,n]=v.exports.useState(!1);return d("div",{className:"app",children:[d("header",{className:"app__header",children:[e("h1",{children:"Game of Life"}),e("a",{href:"javascript:void(0)","aria-label":"game help",onClick:()=>n(r=>!r),className:"app__help",children:"what is this?"}),t&&e(ne,{onClose:()=>n(!1),children:e(ze,{})})]}),e("div",{children:e(Ee,{})})]})}const Ie="modulepreload",T={},Fe="/react-game-of-life/",Oe=function(n,r){return!r||r.length===0?n():Promise.all(r.map(l=>{if(l=`${Fe}${l}`,l in T)return;T[l]=!0;const i=l.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${a}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":Ie,i||(o.as="script",o.crossOrigin=""),o.href=l,document.head.appendChild(o),i)return new Promise((s,c)=>{o.addEventListener("load",s),o.addEventListener("error",c)})})).then(()=>n())},Be=t=>{t&&t instanceof Function&&Oe(()=>import("./web-vitals.d62816c8.js"),[]).then(({getCLS:n,getFID:r,getFCP:l,getLCP:i,getTTFB:a})=>{n(t),r(t),l(t),i(t),a(t)})};D.render(e(z.StrictMode,{children:e(Me,{})}),document.getElementById("root"));Be();
